#include <stdio.h>
#include <stdlib.h>

int binary_search(int x[], int n, int key){
    int pl= 0;
    int pr = n-1;

    while (pl <= pr){
        int pc = (pl + pr ) /2;
        printf("  |\n");
    for (int i = 0; i<pl ; i++)
        printf("  ");
    printf("<-");

    for (int i = pl+1; i<pc ; i++)
        printf("  ");
    printf("+");

     for (int i = 0; i<pr ; i++)
        printf("  ");
    printf("->\n");

    printf("%3d| ", pc);
    
    for(int i = 0; i<n; i++){
        printf("%d",x[i]);
    }printf("\n");
    

    if (x[pc] == key){
        return pc;
    }else if (x[pc]<key){
        pl = pc + 1;
    }else 
        pr = pc - 1;
    }
    return -1;
 }
 



int main(void){
    printf("  | 0 1 2 3 4 5 6 ");
    printf("-------------------");
    printf("  | <-     +     ->");
    int x[] = {1, 2, 3, 4, 5, 6, 8, 9};
    int n = sizeof(x) / sizeof(x[0]);
    int key = 2;

    int idx = binary_search(x,n,key);

    if (idx == -1){
        puts("검색 실패\n");
    }else 
    printf("%d는 x[%d]에 존재합니다", key, idx);

    return 0;

}